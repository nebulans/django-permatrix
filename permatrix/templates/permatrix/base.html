{% extends "admin/index.html" %}

{% load static %}

{% block extrastyle %}{{ block.super }}<link rel="stylesheet" type="text/css" href="{% static "css/permatrix.css" %}" />{% endblock %}


{% block sidebar %}{% endblock %}

{% block content %}
<div class="permatrix-container">
	<table>
		<tr class="module-row">
			<td></td>
			{% for module in modules %}
				<td colspan="{{ module.attrs.colspan }}">{{ module.ct.app_label }}</td>
			{% endfor %}
		</tr>
		<tr class="model-row">
			<td></td>
			{% for model in models %}
				<td colspan="{{ model.attrs.colspan }}">{{ model.ct.name }}</td>
			{% endfor %}
		</tr>
		<tr class="permission-row">
			<td></td>
			{% for permission in permissions %}
				<td class="permname"><span class="vertical-text">{{ permission.permission.codename }}</span></td>
			{% endfor %}
		</tr>
		{% for group in groups %}
			<tr>
				<td>{{ group.group.name }}</td>
				{% for cell in group.cells %}
					<td class="{% if cell %}perm_yes{% endif %}"></td>
				{% endfor %}
			</tr>
		{% endfor %}
	</table>
</div>
{% endblock %}